<!DOCTYPE html>
<html lang="en-gb">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="theme-color" content="#494f5c">
	<meta name="msapplication-TileColor" content="#494f5c">

<meta itemprop="name" content="#15: SoK with PMC – 2">
<meta itemprop="description" content="December was a particularly hectic month. I had my semester exams so could not make time for this project. It was only after 20th of the month that I was back into it.
Anyways, like I said, I implemented the lastfm image fetcher as a plugin. It has an added advantage that you could turn it off if you want to. It&#8217;s compiled as a different component, and on runtime acts independently of the main application.">


<meta itemprop="datePublished" content="2015-12-29T11:12:37&#43;00:00" />
<meta itemprop="dateModified" content="2015-12-29T11:12:37&#43;00:00" />
<meta itemprop="wordCount" content="656">



<meta itemprop="keywords" content="kde,sok," />
<meta property="og:title" content="#15: SoK with PMC – 2" />
<meta property="og:description" content="December was a particularly hectic month. I had my semester exams so could not make time for this project. It was only after 20th of the month that I was back into it.
Anyways, like I said, I implemented the lastfm image fetcher as a plugin. It has an added advantage that you could turn it off if you want to. It&#8217;s compiled as a different component, and on runtime acts independently of the main application." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://aditya-dev.xyz/p81/" />
<meta property="article:published_time" content="2015-12-29T11:12:37&#43;00:00"/>
<meta property="article:modified_time" content="2015-12-29T11:12:37&#43;00:00"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="#15: SoK with PMC – 2"/>
<meta name="twitter:description" content="December was a particularly hectic month. I had my semester exams so could not make time for this project. It was only after 20th of the month that I was back into it.
Anyways, like I said, I implemented the lastfm image fetcher as a plugin. It has an added advantage that you could turn it off if you want to. It&#8217;s compiled as a different component, and on runtime acts independently of the main application."/>

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
	<link rel="shortcut icon" href="/favicon.ico">

	<title>#15: SoK with PMC – 2</title>
	<link rel="stylesheet" href="https://aditya-dev.xyz/css/style.min.31706917653d2b9e8410abd431f30ec4359a88a94fc87a63654779d87329edec.css" integrity="sha256-MXBpF2U9K56EEKvUMfMOxDWaiKlPyHpjZUd52HMp7ew=">
	
</head>

<body id="page">
	
	<header id="site-header" class="animated slideInUp faster">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="https://aditya-dev.xyz">Aditya Sharma</a>
				</div>
				<nav class="site-nav hide-in-mobile">
					<a href="https://aditya-dev.xyz/posts/">Posts</a>
				</nav>
			</div>
			<div class="hdr-right hdr-icons">
				<span class="hdr-social hide-in-mobile"><a href="https://github.com/g33kyaditya" target="_blank" rel="noopener me" title="Github"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><a href="https://www.linkedin.com/in/aditya-sharma-7b65a010b" target="_blank" rel="noopener me" title="Linkedin"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="mailto:g33kyaditya@gmail.com" target="_blank" rel="noopener me" title="Email"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a><a href="https://drive.google.com/file/d/0B2UcOgLtxPKeRGZBX2xnMkp0NFE/view" target="_blank" rel="noopener me" title="Cv"><svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 1024 1024" fill="currentColor" stroke="currentColor" stroke-width="30" stroke-linecap="round" stroke-linejoin="round" class="feather feather-cv"><path d="M809.4 64.2H214.6c-45.9 0-83.3 37.4-83.3 83.3v729c0 45.9 37.4 83.3 83.3 83.3h470c6.9 0 13.5-2.8 18.3-7.7l182.2-184.6c4.8-4.8 7.4-11.3 7.4-18.1V147.5c0.1-45.9-37.2-83.3-83.1-83.3zM703.9 886v-78.2c0-21.3 17.4-38.6 38.7-38.6h76.9L703.9 886z m142.3-159.1H745.7c-46.6 0-84.5 37.9-84.5 84.5v103h-451c-17.8 0-32.3-14.5-32.3-32.3V142c0-17.8 14.5-32.3 32.3-32.3h603.7c17.8 0 32.3 14.5 32.3 32.3v584.9zM689 640H335c-12.6 0-23-10.3-23-23 0-12.6 10.3-23 23-23h354c12.7 0 23 10.4 23 23s-10.3 23-23 23zM489 749.9H335c-12.6 0-23-10.4-23-23s10.3-23 23-23h154c12.6 0 23 10.3 23 23 0 12.6-10.3 23-23 23zM583.5 354.7c15.8-17.3 25.5-40.3 25.5-65.6 0-53.6-43.4-97-97-97s-97 43.4-97 97c0 25.3 9.7 48.3 25.5 65.6C375 382.5 329 447.5 329 523.2c0 12.7 10.3 23 23 23s23-10.3 23-23c0-75.7 61.3-137 137-137s137 61.3 137 137c0 12.7 10.3 23 23 23s23-10.3 23-23c0-75.7-46-140.7-111.5-168.5zM512 238.2c28.2 0 51 22.8 51 51s-22.8 51-51 51-51-22.8-51-51 22.8-51 51-51z" /></svg></a></span><button id="menu-btn" class="hdr-btn" title="Menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="https://aditya-dev.xyz/posts/">Posts</a></li>
		</ul>
	</div>


	<main class="site-main section-inner thin animated fadeIn faster">
		<h1>#15: SoK with PMC – 2</h1>
		<div class="content">
			<p>December was a particularly hectic month. I had my semester exams so could not make time for this project. It was only after 20th of the month that I was back into it.</p>

<p>Anyways, like I said, I implemented the lastfm image fetcher as a plugin. It has an added advantage that you could turn it off if you want to. It&#8217;s compiled as a different component, and on runtime acts independently of the main application. Giving signals out to the main application, for information interchange.</p>

<p>Here are some problems I faced in no particular order.</p>

<p>I had to figure out if at all I needed to create a different function for communicating with the mentioned plugin. Of course it was the easier thing to do. But my job was to improve the architecture and keep it from getting complex. So the first few days, I spent figuring out the gist of the code. The interaction with the API and feeding those images back to the UI. I found a signal there, that was emitting the list of newly found media from the local system. Finding this one particular signal, among others was the difficult thing to do, I agree. Next step was easier. Connecting that signal to a slot in my plugin, that would then iterate over this list of media and fetch the images.</p>

<p>Next step that I did, was to update the application UI and to display those images. This time around finding any sort of update signal was easier since I had done this before. Ack came to the rescue and now I know, why my seniors love it. After finding that signal, it was just a matter of connecting the appropriate signals for feeding those images to the UI.</p>

<p>After doing this, I fell into the classic problem of multi threading. Since, my plugin was  an altogether different component now, it was to be run in a different thread. Sounds about right. But here&#8217;s the catch. Inside my plugin, I was using QNetworkAccessManager for doing the network related stuff. But this QNetworkAccessManager automatically runs into a different thread to avoid clogging the main thread. So, all this time I was thinking I had 2 threads with respect to lastfm plugin but infact there were 3. The main UI, the plugin, and the Network Manager inside the plugin. I gotmmany warnings in the application output that the application was not able to create children for a parent that was in a different thread. Took me some days to figure it out. And in the process I learned about QThread and general multi-threading concepts. Turns out, that my plugin was already creating an instance for Network Manager in the constructor and the so the Network Manager had it&#8217;s thread affinity to that thread. Now during run() , that is what makes a different thread, I was creating children for Network Manager. Once, I had this figured out, all I had to do was direct the run() , to some different slot by emitting a signal. And in that slot, creating instances for everything related to the Network Manager.</p>

<p>So, after this all seemed to work fine. Tested it and everything and was good to go !</p>

<p>Next, I&#8217;ll look into a branch that Bhushan made during his Google Summer of Code. It gives a whole new, crisp UI to the application. I actually like this new one. But still, it&#8217;s not finished. UI is not ready for online services like picasa, flickr and youtube. And we have ported only grid and list browsers so only those models would work. Also, I&#8217;ll have to get those UI components to work. I&#8217;ll be looking into it. The only problem being that I don&#8217;t know about QML that much. And all this UI stuff is written in QML. So it seems unsettling. But I&#8217;ll figure something out 😉</p>

<p>&nbsp;</p>

<p>That&#8217;s all for now.</p>

<p>Thanks for reading.</p>

		</div>
	</main>

	<footer id="site-footer" class="section-inner thin animated fadeIn faster">
		<p>&copy; 2019 <a href="https://aditya-dev.xyz">Aditya Sharma</a> &#183; <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></p>
		<p>
			Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> &#183; Theme <a href="https://github.com/Track3/hermit" target="_blank" rel="noopener">Hermit</a> &#183; <a href="https://aditya-dev.xyz/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
		</p>
	</footer>


	<script src="https://aditya-dev.xyz/js/main.min.784417f5847151f848c339cf0acb13a06cbb648b1483435a28ed4556c4ead69b.js" integrity="sha256-eEQX9YRxUfhIwznPCssToGy7ZIsUg0NaKO1FVsTq1ps="></script>

</body>

</html>
