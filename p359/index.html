<!DOCTYPE html>
<html>

    <head>
        <title> #24: GSoC with KDE Now â€“ 3 &middot;  </title>

        <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.31" />


<script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">


<link rel="stylesheet" href="https://aditya-dev.xyz/css/nix.css">


<link href="https://fonts.googleapis.com/css?family=Inconsolata%7COpen+Sans%7CConcert+One" rel="stylesheet">




    </head>

    <body>
        <header>
<nav class="navbar navbar-default navbar-fixed-top navbar-inverse font-header">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" id="green-terminal" href=https://aditya-dev.xyz>g33kyaditya@aditya-dev.xyz ~ $</a>
		</div>

		
		<div class="collapse navbar-collapse" id="navbar-collapse-1">
			<ul class="nav navbar-nav navbar-right">
				<li>
					<a href="https://aditya-dev.xyz">/home/g33kyaditya</a>
				</li>
				
				
				<li class="dropdown">
                    
            		<a href="https://aditya-dev.xyz/posts">~/posts</a>
            		
        		</li>
        		

			</ul>
		</div>
	</div>
</nav>
</header>

        <div class="container wrapper">
            <h1><a href="https://aditya-dev.xyz/p359/">#24: GSoC with KDE Now â€“ 3</a></h1>
            <span class="post-date">Jun 3, 2016 </span>
            <div class="post-content">
                <p>Hey ! I&#8217;m making KDE Now, an application for the Plasma Desktop. It would help the user see important stuff from his email, on a plasmoid. It&#8217;s similar to what Google Now does on Android. To know more, clickÂ <a href="https://g33kyaditya.wordpress.com/2016/04/23/21-google-summer-of-code-2016/">here</a></p>

<p>&nbsp;</p>

<p>It&#8217;s been some time since the coding period started for this year&#8217;s Summer of Code. I had exams till 27th of May, so I started from 28th. My mentor knew about it already, so things went buttery smooth.</p>

<p>As the first part of my project, I had to implement an IMAP client for fetching emails from an IMAP server. I used KIMAP library in the process. With the help of my mentor and Daniel Vratil and Luca Beltrame, I implemented a working IMAP client. Daniel and Luca helped me with the API details, since theÂ one available was lacking some of the details. Still, most of the methods were fine. The only minor issue related to the API was a specific <a href="https://api.kde.org/4.x-api/pim-apidocs/kimap/html/classKIMAP_1_1FetchJob.html#ae22cf31346db914d17506945a733e427">function overloading</a>Â in KIMAP::FetchJob. The new Qt signal/slot mechanism is good and all, but since it does static checking, we need to specify the exact methods. In this particular case, to resolve ambiguity, we need to cast it. Which looks not very beautiful. Hence, Qt <a href="https://wiki.qt.io/New_Signal_Slot_Syntax#Overload">recommends</a>Â not to use function overloading.</p>

<p>There are a lot of details based Â on how the whole thing runs. One can look at the <a href="https://github.com/g33kyaditya/KDE-Now/commits/master">commits</a>, I made which are a lot more detailed. But the basic idea is: Start a client session, fetch relevant emails, and go into a laid back state. When the server receives a new email, it notifies our client that a new email has arrived. Our client then fetches the new emails. For future plans, I might as well incorporate information from these commits into docs.</p>

<p>For the coming few weeks, I plan to move the update procedure of the client to a different thread, as when I was writing a processor today, to process the newly fetched emails, I noticed some lag. For this, I will use QThread. I&#8217;m kinda amused that I didn&#8217;t think of this happening before !</p>

<p>Testing the client took time more than I expected. Actually, I tested the whole thing.I exchanged some 60 emails for this purpose. I plan to write unit tests later (in the final stages, which is like 2 months away).</p>

<p>This is the first time, I&#8217;m making a project like this from scratch and it has been a great learning experience till now. I plan to get my current code reviewed by some more people, before I am finally satisfied with it. I&#8217;d like to get tips on how to better refactor it, and any general tips for the code/classes design are welcome. Find the repoÂ <a href="https://github.com/g33kyaditya/KDE-Now">here</a>.</p>

<p>Things are in pretty good shape. I plan to write extractors in the coming weeks and getting code reviews ðŸ™‚ I&#8217;m actually a bit ahead from my proposed timeline which was altered due to some changes. That gives me even more time later to work on docs and testing.</p>

<p>Catch you in the next one !</p>

<p>&nbsp;</p>

            </div>
            
            <div class="post-comments">
                
            </div>
            
            <div class="push"></div>
        </div>
        <footer class="footer text-center">
<p>Copyright &copy; 2018 Aditya -
<span class="credit">
	Powered by
	<a target="_blank" href="https://gohugo.io">Hugo</a>
	and
	<a target="_blank" href="https://github.com/LordMathis/hugo-theme-nix/">Nix</a> theme.
</span>
</p>
</footer>

    </body>
